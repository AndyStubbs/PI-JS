window.qbs=function(){"use strict";var r,o,n,a,i;function t(n,e,t,a){r.commands[n]=e,t||(a?(r.screenCommands[n]={fn:e},o[n]=function(){var e=[].slice.call(arguments),t=function(e,t){if(null===r.activeScreen)return console.error(t+": No screens available for command."),!1;void 0===e&&(e=r.activeScreen.id);return!Number.isInteger(e)||r.screens[e]?r.screens[e]:(console.error(t+": Invalid screen id."),!1)}(void 0,n);if(!1!==t)return r.commands[n](t,e)}):o[n]=function(){var e=[].slice.call(arguments);return r.commands[n](e)})}return o={_:{addCommand:t,addCommands:function(e,n,a){t(e,function(e,t){(e.pixelMode?n:a)(e,t)},!1,!0)},data:r={nextScreenId:a=0,screens:{},activeScreen:null,images:{},imageCount:0,fCos:[],fSin:[],defaultPrompt:219,defaultFont:{width:8,height:8,x:0,y:0,data:null,printFunction:null,calcWidth:null},nextFontId:0,fonts:{},defaultPalette:["#000000","#0000AA","#00AA00","#00AAAA","#AA0000","#AA00AA","#AA5500","#AAAAAA","#555555","#5555FF","#55FF55","#55FFFF","#FF5555","#FF55FF","#FFFF55","#FFFFFF","#000000","#141414","#202020","#2D2D2D","#393939","#454545","#515151","#616161","#717171","#828282","#929292","#A2A2A2","#B6B6B6","#CACACA","#E3E3E3","#FFFFFF","#0000FF","#4100FF","#7D00FF","#BE00FF","#FF00FF","#FF00BE","#FF007D","#FF0041","#FF0000","#FF4100","#FF7D00","#FFBE00","#FFFF00","#BEFF00","#7DFF00","#41FF00","#00FF00","#00FF41","#00FF7D","#00FFBE","#00FFFF","#00BEFF","#007DFF","#0041FF","#7D7DFF","#9E7DFF","#BE7DFF","#DF7DFF","#FF7DFF","#FF7DDF","#FF7DBE","#FF7D9E","#FF7D7D","#FF9E7D","#FFBE7D","#FFDF7D","#FFFF7D","#DFFF7D","#BEFF7D","#9EFF7D","#7DFF7D","#7DFF9E","#7DFFBE","#7DFFDF","#7DFFFF","#7DDFFF","#7DBEFF","#7D9EFF","#B6B6FF","#C6B6FF","#DBB6FF","#EBB6FF","#FFB6FF","#FFB6EB","#FFB6DB","#FFB6C6","#FFB6B6","#FFC6B6","#FFDBB6","#FFEBB6","#FFFFB6","#EBFFB6","#DBFFB6","#C6FFB6","#B6FFB6","#B6FFC6","#B6FFDB","#B6FFEB","#B6FFFF","#B6EBFF","#B6DBFF","#B6C6FF","#000071","#1C0071","#390071","#550071","#710071","#710055","#710039","#71001C","#710000","#711C00","#713900","#715500","#717100","#557100","#397100","#1C7100","#007100","#00711C","#007139","#007155","#007171","#005571","#003971","#001C71","#393971","#453971","#553971","#613971","#713971","#713961","#713955","#713945","#713939","#714539","#715539","#716139","#717139","#617139","#557139","#457139","#397139","#397145","#397155","#397161","#397171","#396171","#395571","#394571","#515171","#595171","#615171","#695171","#715171","#715169","#715161","#715159","#715151","#715951","#716151","#716951","#717151","#697151","#617151","#597151","#517151","#517159","#517161","#517169","#517171","#516971","#516171","#515971","#000041","#100041","#200041","#310041","#410041","#410031","#410020","#410010","#410000","#411000","#412000","#413100","#414100","#314100","#204100","#104100","#004100","#004110","#004120","#004131","#004141","#003141","#002041","#001041","#202041","#282041","#312041","#392041","#412041","#412039","#412031","#412028","#412020","#412820","#413120","#413920","#414120","#394120","#314120","#284120","#204120","#204128","#204131","#204139","#204141","#203941","#203141","#202841","#2D2D41","#312D41","#352D41","#3D2D41","#412D41","#412D3D","#412D35","#412D31","#412D2D","#41312D","#41352D","#413D2D","#41412D","#3D412D","#35412D","#31412D","#2D412D","#2D4131","#2D4135","#2D413D","#2D4141","#2D3D41","#2D3541","#2D3141","#000000","#000000","#000000","#000000","#000000","#000000","#000000"],commands:{},screenCommands:{}},resume:function(){var e,t;if(0==--a)for(n=!1,t=i.slice(),i=[],e=0;e<t.length;e++)t[e]()},wait:function(){a++,n=!0}},ready:function(e){qbs.util.isFunction(e)&&(n?i.push(e):e())}},t("setScreen",function(e){var t;t=e[0],r.activeScreen=r.screens[t.id]},!(i=[]),n=!1),t("removeAllScreens",function(){var e;for(e in r.screens)r.screens[e].screenObj.removeScreen()},!1,!1),o}(),window.qbs.util=function(){"use strict";function r(e){var t,n,a,r;return a=4===e.length?(t=16*parseInt(e.slice(1,2),16)-1,n=16*parseInt(e.slice(2,3),16)-1,16*parseInt(e.slice(3,4),16)-1):(t=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16)),{r:t,g:n,b:a,a:r=9===e.length?parseInt(e.slice(7,9),16):255,s:"rgba("+t+","+n+","+a+","+r+")"}}function o(e){Number.isInteger(e)||(e=255);var t=Number(e).toString(16);return t.length<2&&(t="0"+t),t.toUpperCase()}function i(e,t,n,a){return"#"+o(e)+o(t)+o(n)+o(a)}function t(e,t,n,a){return r(i(e,t,n,a))}return{isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)},isDomElement:function(e){return e instanceof Element},hexToRgb:r,cToHex:o,rgbToHex:i,rgbToColor:t,convertToColor:function(e){return void 0===e?null:Array.isArray(e)&&2<e.length?t(e[0],e[1],e[2],e[3]):Number.isInteger(e.r)&&Number.isInteger(e.g)&&Number.isInteger(e.b)?t(e.r,e.g,e.b,e.a):/(^#[0-9A-F]{8}$)|(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)?r(e):0!==e.indexOf("rgb")||(e=function(e){var t,n,a;for(e=e.slice(e.indexOf("(")+1,e.indexOf(")")),t=e.split(","),a=[],n=0;n<t.length;n++)a.push(parseInt(t[n]));return a}(e)).length<3?null:t(e[0],e[1],e[2],e[3])},checkColor:function(e){var t=(new Option).style;return t.color=e,""!==t.color},compareColors:function(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a},copyProperties:function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},convertToArray:function(e){var t,n;for(t in n=[],e)e.hasOwnProperty(t)&&n.push(e[t]);return n},deleteProperties:function(e){var t;for(t in e)e.hasOwnProperty(t)&&delete e[t]},clamp:function(e,t,n){return Math.min(Math.max(e,t),n)},inRange:function(e,t){return e.x>=t.x&&e.x<t.x+t.width&&e.y>=t.y&&e.y<t.y+t.height},inRange2:function(e,t,n,a,r,o){return n<=e&&e<n+r&&a<=t&&t<a+o},degreesToRadian:function(e){return e*Math.PI/180},sanitizeBool:function(e){return!!e},padL:function(e,t,n){var a,r;for("string"!=typeof n&&(n=" "),a=(e+=r="").length;a<t;a++)r+=n;return r+e},padR:function(e,t,n){var a;for("string"!=typeof n&&(n=" "),a=(e+="").length;a<t;a++)e+=n;return e},math:{deg30:Math.PI/6,deg45:Math.PI/4,deg60:Math.PI/3,deg90:Math.PI/2,deg120:2*Math.PI/3,deg135:3*Math.PI/4,deg150:5*Math.PI/6,deg180:Math.PI,deg210:7*Math.PI/6,deg225:5*Math.PI/4,deg240:4*Math.PI/3,deg270:3*Math.PI/2,deg300:5*Math.PI/3,deg315:7*Math.PI/4,deg330:11*Math.PI/6,deg360:2*Math.PI}}}(),Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},function(){"use strict";var u;function h(e,t,n){e[t]=function(){var e=[].slice.call(arguments);return n.commands[t](n,e)}}function f(e,t,n,a,r){var o={};return o.id=u.nextScreenId,u.nextScreenId+=1,u.activeScreen=o,e.dataset.screenId=o.id,o.canvas=e,o.width=e.width,o.height=e.height,o.container=n,o.aspectData=a,o.isOffscreen=r,o.context=e.getContext("2d"),o.bufferCanvas=t,o.bufferContext=o.bufferCanvas.getContext("2d"),o.dirty=!1,o.fColor=7,o.x=0,o.y=0,o.angle=0,o.pal=u.defaultPalette.slice(),o.context.fillStyle=o.pal[o.fColor].s,o.context.strokeStyle=o.pal[o.fColor].s,o.printCursor={charWidth:u.defaultFont.width,charHeight:u.defaultFont.height,x:0,y:0,font:u.defaultFont.data,rows:Math.floor(e.width/u.defaultFont.width),cols:Math.floor(e.height/u.defaultFont.height),prompt:u.defaultPrompt,breakWord:!0,printFunction:u.defaultFont.printFunction,calcWidth:u.defaultFont.calcWidth},o.clientRect=e.getBoundingClientRect(),o.mouse={x:0,y:0,buttons:0},o.touches={},o.pixelMode=!0,o.context.imageSmoothingEnabled=!1,o.onMouseEventListeners={},o.onTouchEventListeners={},u.screens[o.id]=o}function m(e,t,n,a){var r,o,i,s,d,c,l;r=e.width,o=e.height,c=e.splitter,s=n*(l=o/r),n<(i=a*(r/o))?(d=(a-(s=(i=n)*l))/2,t.style.marginLeft="0",t.style.marginTop=Math.floor(d)+"px"):(s=a,d=(n-i)/2,t.style.marginLeft=Math.floor(d)+"px",t.style.marginTop="0"),t.style.width=Math.floor(i)+"px",t.style.height=Math.floor(s)+"px","x"===c?(t.width=r,t.height=o):(t.width=t.offsetWidth,t.height=t.offsetHeight)}u=qbs._.data,window.qbs.screen=function(e,t,n){var a,r,o,i,s,d,c,l;if("string"==typeof e&&""!==e&&(a=function(e){var t,n,a,r;-1<e.indexOf(":")?r=":":-1<e.indexOf("x")&&(r="x");if(a=e.split(r),t=Number(a[0]),isNaN(t)||0===t)return;if(n=Number(a[1]),isNaN(n)||0===n)return;return{width:t,height:n,splitter:r}}(e=e.toLowerCase())),n){if(!a)return void console.error("screen: You must supply an aspect ratio with exact dimensions for offscreen screens.");d=a,(c=document.createElement("canvas")).width=d.width,c.height=d.height,(l=document.createElement("canvas")).width=d.width,l.height=d.height,o=f(c,l,null,d,!0)}else o=function(e,t){var n,a;n=document.createElement("canvas"),a=document.createElement("canvas"),n.style.backgroundColor="black",n.style.position="absolute",n.style.imageRendering="pixelated",qbs.util.isDomElement(t)||(document.documentElement.style.height="100%",document.documentElement.style.margin="0",document.body.style.height="100%",document.body.style.margin="0",document.body.style.overflow="hidden",t=document.body,n.style.left="0",n.style.top="0");0===t.offsetHeight&&(t.style.height="200px");t.appendChild(n),e?(m(e,n,t.offsetWidth,t.offsetHeight),a.width=n.width,a.height=n.height):(n.style.width="100%",n.style.height="100%",a.width=n.offsetWidth,a.height=n.offsetHeight,window.addEventListener("resize",function(){a.width=n.offsetWidth,a.height=n.offsetHeight}));return f(n,a,t,e,!1)}(a,t);for(i in o.cache={findColor:{}},r={},o.commands={},u.screenCommands)s=u.screenCommands[i],o.commands[i]=s.fn,h(r,i,o);return(o.screenObj=r).id=o.id,r},window.addEventListener("resize",function(){var e,t;for(e in u.screens)(t=u.screens[e]).isOffscreen||(t.bufferContext.clearRect(0,0,t.width,t.height),t.bufferContext.drawImage(t.canvas,0,0),m(t.aspectData,t.canvas,t.container.offsetWidth,t.container.offsetHeight),t.context.drawImage(t.bufferCanvas,0,0,t.width,t.height),t.bufferCanvas.width=t.canvas.width,t.bufferCanvas.height=t.canvas.height)})}(),function(){var u;u=qbs._.data,qbs._.addCommand("removeScreen",function(e){var t,n;for(t in n=e.id,e.screenObj)delete e.screenObj[t];e.canvas.parentElement.removeChild(e.canvas),e.canvas=null,delete u.screens[n]},!1,!0),qbs._.addCommand("bgColor",function(e,t){var n,a;n=t[0],a=Number.isInteger(n)?e.pal[n]:qbs.util.convertToColor(n);{if(!a||"string"!=typeof a.s)return void console.error("bgColor: invalid color value for parameter c.");e.canvas.style.backgroundColor=a.s}},!1,!0),qbs._.addCommand("containerBgColor",function(e,t){var n,a;if(n=t[0],e.container)return(a=Number.isInteger(n)?e.pal[n]:qbs.util.convertToColor(n))&&"string"==typeof a.s?void(e.container.style.backgroundColor=a.s):void console.error("containerBgColor: invalid color value for parameter c.")},!1,!0),qbs._.addCommand("canvas",function(e){return e.canvas},!1,!0),qbs._.addCommand("findColor",function(e,t){var n,a,r,o,i,s,d,c;n=t[0],void 0===(a=t[1])&&(a=0);if(o=e.pal,e.cache.findColor[n.s])return e.cache.findColor[n.s];for(r=0;r<o.length;r++){if(0===a&&o[r].s===n.s)return e.cache.findColor[n.s]=r;if(i=o[r].r-n.r,s=o[r].g-n.g,d=o[r].b-n.b,c=o[r].a-n.a,i*i+s*s+d*d+c*c<=a)return e.cache.findColor[n.s]=r}return o.push(n),e.cache.findColor[n.s]=o.length-1,o.length-1},!1,!0),qbs._.addCommand("setPixelMode",function(e,t){if(t[0])for(i in e.context.imageSmoothingEnabled=!0,e.pixelMode=!0,e.pixelCommands)e.commands[i]=e.pixelCommands[i];else for(i in e.context.imageSmoothingEnabled=!1,e.pixelMode=!1,e.antiAliasCommands)e.commands[i]=e.antiAliasCommands[i]},!1,!0),qbs._.addCommand("triggerEventListerners",function(e,t,n){var a,r,o,i,s;if(n[e])for(a=n[e].slice(),o=0;o<a.length;o++)if(a[o].hitBox)if((r=t.screens[a[o].hitBox.screen]).touches){for(i in s={touches:[]},r.touches)qbs.util.inRange(r.touches[i],a[o].hitBox)&&s.touches.push(r.touches[i]);0<s.touches.length&&a[o].fn(s)}else qbs.util.inRange(r,a[o].hitBox)&&a[o].fn(t);else a[o].fn(t)},!0,!0),qbs._.addCommand("onevent",function(n,a,e,r,o,i,s,d,c,l){setTimeout(function(){var t;n===o||n===i||n===s?qbs.util.isFunction(a)?(e&&(t=a,a=function(e){c(n,a),t(e)}),(r&&isNaN(r.screen)||r&&!u.screens[r.screen])&&(r.screen=u.screenData.id),l[n]||(l[n]=[]),l[n].push({fn:a,hitBox:r})):console.error(d+": fn is not a valid function."):console.error(d+": mode needs to be either up, down, or move.")},1)},!0,!0),qbs._.addCommand("onevent",function(e,t,n,a,r,o,i){var s,d;if(e!==n&&e!==a&&e!==r)return void console.error(o+": mode needs to be either up, down, or move.");if(!qbs.util.isFunction(t))return void console.error(o+": fn is not a valid function.");s=!1,qbs.util.isFunction(t)||(s=!0);if(i[e])if(s)i[e]=[];else for(d=i[e].length-1;0<=d;d--)i[e][d]===t&&i[e].splice(d,1)},!0,!0)}(),function(){var i;function a(e,t,n){var a,r;return{r:(a=e.imageData.data)[r=4*(e.width*n+t)],g:a[1+r],b:a[2+r],a:a[3+r]}}i=qbs._.data,qbs._.addCommand("getImageData",function(e){!1===e.dirty&&(e.imageData=e.context.getImageData(0,0,e.width,e.height))},!0,!1),qbs._.addCommand("setPixel",function(e,t,n,a){var r,o;r=e.imageData.data,o=4*(e.width*n+t),r[o]=a.r,r[1+o]=a.g,r[2+o]=a.b,r[3+o]=a.a},!0,!1),qbs._.addCommand("setPixelSafe",function(e,t,n,a){var r,o;if(t<0||t>=e.width||n<0||n>=e.height)return;i.commands.getImageData(e),r=e.imageData.data,o=4*(e.width*n+t),r[o]=a.r,r[1+o]=a.g,r[2+o]=a.b,r[3+o]=a.a,e.dirty=!0},!0,!1),qbs._.addCommand("getPixel",a,!0,!1),qbs._.addCommand("getPixelSafe",function(e,t,n){return i.commands.getImageData(e),a(e,t,n)},!0,!1)}(),function(){var x;x=qbs._.data,qbs._.addCommands("circle",function(e,t){var n,a,r,o,i,s,d;if(n=t[0],a=t[1],r=t[2],x.commands.getImageData(e),isNaN(n)||isNaN(a)||isNaN(r))return void console.error("circle: Argument's cx, cy, r must be numbers.");if(d=e.pal[e.fColor],o=r,i=0,x.commands.setPixelSafe(e,o+n,i+a,d),2<=r)x.commands.setPixelSafe(e,-o+n,i+a,d),x.commands.setPixelSafe(e,n,o+a,d),x.commands.setPixelSafe(e,n,-o+a,d);else if(1===r)return x.commands.setPixelSafe(e,-o+n,i+a,d),x.commands.setPixelSafe(e,n,o+a,d),x.commands.setPixelSafe(e,n,-o+a,d),void(e.dirty=!0);s=1-r;for(;i<o;)i+=1,s=s<=0?s+2*i+1:s+2*i-2*--o+1,x.commands.setPixelSafe(e,o+n,i+a,d),x.commands.setPixelSafe(e,-o+n,i+a,d),x.commands.setPixelSafe(e,o+n,-i+a,d),x.commands.setPixelSafe(e,-o+n,-i+a,d),o!=i&&(x.commands.setPixelSafe(e,i+n,o+a,d),x.commands.setPixelSafe(e,-i+n,o+a,d),x.commands.setPixelSafe(e,i+n,-o+a,d),x.commands.setPixelSafe(e,-i+n,-o+a,d));e.dirty=!0},function(e,t){var n,a,r,o,i;if(n=t[0],a=t[1],r=t[2],isNaN(n)||isNaN(a)||isNaN(r))return void console.error("circle: parameters cx, cy, r must be numbers.");e.dirty&&e.screenObj.render();o=qbs.util.degreesToRadian(0),i=qbs.util.degreesToRadian(360),e.context.beginPath(),e.context.strokeStyle=e.pal[e.fColor].s,e.context.moveTo(n+Math.cos(o)*r,a+Math.sin(o)*r),e.context.arc(n,a,r,o,i),e.context.stroke()}),qbs._.addCommands("arc",function(e,t){var n,a,r,o,i,s,d,c,l,u,h,f,m;n=t[0],a=t[1],r=t[2],o=t[3],i=t[4],x.commands.getImageData(e),s=e.pal[e.fColor],i<o&&(d=o,o=i,i=d);if(o=o*Math.PI/180,i=i*Math.PI/180,0===r)return x.commands.setPixel(e,n,a,s),void(e.dirty=!0);l=Math.abs(1/r),c=o,h=u=!1;for(;c<i;)c+=l,f=Math.round(Math.cos(c)*r+n),m=Math.round(Math.sin(c)*r+a),u?e.screenObj.line(u,h,f,m):x.commands.setPixel(e,f,m,s),u=f,h=m;e.dirty=!0},function(e,t){var n,a,r,o,i;if(n=t[0],a=t[1],r=t[2],o=t[3],i=t[4],isNaN(n)||isNaN(a)||isNaN(r)||isNaN(o)||isNaN(i))return void console.error("arc: parameters cx, cy, r, a1, a2 must be numbers.");e.dirty&&e.screenObj.render();o=qbs.util.degreesToRadian(o),i=qbs.util.degreesToRadian(i),e.context.beginPath(),e.context.strokeStyle=e.pal[e.fColor].s,e.context.moveTo(n+Math.cos(o)*r,a+Math.sin(o)*r),e.context.arc(n,a,r,o,i),e.context.stroke()}),qbs._.addCommands("ellipse",function(e,t){var n,a,r,o,i,s,d,c,l,u,h;if(o=t[0],i=t[1],a=t[2],r=t[3],isNaN(o)||isNaN(i)||isNaN(a)||isNaN(r))return void console.error("ellipse: parameters cx, cy, rx, ry must be numbers.");if(x.commands.getImageData(e),n=e.pal[e.fColor],0===a&&0===r)return x.commands.setPixelSafe(e,o,i,n),void(e.dirty=!0);c=(h=r)*r-a*a*r+.25*a*a,s=2*r*r*(u=0),d=2*a*a*h;for(;s<d;)x.commands.setPixelSafe(e,u+o,h+i,n),x.commands.setPixelSafe(e,-u+o,h+i,n),x.commands.setPixelSafe(e,u+o,-h+i,n),x.commands.setPixelSafe(e,-u+o,-h+i,n),c=c<0?(u++,c+(s+=2*r*r)+r*r):(u++,h--,c+(s+=2*r*r)-(d-=2*a*a)+r*r);l=r*r*((u+.5)*(u+.5))+a*a*((h-1)*(h-1))-a*a*r*r;for(;0<=h;)x.commands.setPixelSafe(e,u+o,h+i,n),x.commands.setPixelSafe(e,-u+o,h+i,n),x.commands.setPixelSafe(e,u+o,-h+i,n),x.commands.setPixelSafe(e,-u+o,-h+i,n),l=0<l?(h--,l+a*a-(d-=2*a*a)):(h--,u++,l+(s+=2*r*r)-(d-=2*a*a)+a*a);e.dirty=!0},function(e,t){var n,a,r,o;if(n=t[0],a=t[1],r=t[2],o=t[3],isNaN(n)||isNaN(a)||isNaN(r)||isNaN(o))return void console.error("ellipse: parameters cx, cy, rx, ry must be numbers.");e.dirty&&e.screenObj.render();e.context.beginPath(),e.context.strokeStyle=e.pal[e.fColor].s,e.context.moveTo(n+r,a),e.context.ellipse(n,a,r,o,0,qbs.util.math.deg360,!1),e.context.stroke()}),qbs._.addCommand("put",function(e,t){var n,a,r,o,i,s,d,c,l,u,h;if(n=t[0],a=t[1],r=t[2],!n||n.length<1)return;s=a<0?-1*a:0;d=r<0?-1*r:0;c=n[0].length-s,l=n.length-d,a+s+c>=e.width&&(c=e.width-a+s);r+d+l>=e.height&&(l=e.height-r+d);if(c<=0||l<=0)return;for(x.commands.getImageData(e),i=d;i<d+l;i++)for(o=s;o<s+c;o++)h=e.pal[n[i][o]],u=4*(e.width*(r+i)+(a+o)),0<h.a&&(e.imageData.data[u]=h.r,e.imageData.data[1+u]=h.g,e.imageData.data[2+u]=h.b,e.imageData.data[3+u]=h.a);e.dirty=!0},!1,!0),qbs._.addCommand("get",function(e,t){var n,r,o,i,s,d,c,l,u,h,f,m,g,A,b,F,p;n=t[0],r=t[1],o=t[2],i=t[3],s=t[4],n=qbs.util.clamp(n,0,e.width-1),o=qbs.util.clamp(o,0,e.width-1),r=qbs.util.clamp(r,0,e.height-1),i=qbs.util.clamp(i,0,e.height-1),o<n&&(d=n,n=o,o=d);i<r&&(d=r,r=i,i=d);if(c=i-r,o-n<=0||c<=0)return[[]];for(x.commands.getImageData(e),l=e.imageData,u=[],p=0,f=r;f<i;f++){for(u.push([]),h=n;h<o;h++)F=4*(e.width*f+h),g=l.data[F],A=l.data[1+F],b=l.data[2+F],a=l.data[3+F],m=e.screenObj.findColor(qbs.util.rgbToColor(g,A,b,a),s),u[p].push(m);p+=1}return u},!1,!0),qbs._.addCommand("pset",function(e,t){var n,a,r;if(n=t[0],a=t[1],!Number.isInteger(n)||!Number.isInteger(a))return void console.error("pset: Argument's x and y must be integers.");if(!qbs.util.inRange2(n,a,0,0,e.width,e.height))return void console.error("pset: Argument's x and y are not on the screen.");e.x=n,e.y=a,r=e.pal[e.fColor],x.commands.getImageData(e),x.commands.setPixel(e,n,a,r),e.dirty=!0},!1,!0),qbs._.addCommands("line",function(e,t){var n,a,r,o,i,s,d,c,l,u,h;if(n=t[0],a=t[1],r=t[2],o=t[3],!(Number.isInteger(n)&&Number.isInteger(a)&&Number.isInteger(r)&&Number.isInteger(o)))return void console.error("pset: Argument's x1, y1, x2, and y2 must be integers.");i=e.pal[e.fColor],s=Math.abs(r-n),d=Math.abs(o-a),c=n<r?1:-1;l=a<o?1:-1;u=s-d,x.commands.getImageData(e),x.commands.setPixelSafe(e,n,a,i);for(;n!==r||a!==o;)-d<(h=u<<1)&&(u-=d,n+=c),h<s&&(u+=s,a+=l),x.commands.setPixelSafe(e,n,a,i);e.dirty=!0},function(e,t){var n,a,r,o;if(n=t[0],a=t[1],r=t[2],o=t[3],isNaN(n)||isNaN(a)||isNaN(r)||isNaN(o))return void console.error("line: parameters x1, y1, x2, y2 must be numbers.");e.dirty&&e.screenObj.render();e.context.strokeStyle=e.pal[e.fColor].s,e.context.beginPath(),e.context.moveTo(n,a),e.context.lineTo(r,o),e.context.stroke()}),qbs._.addCommands("rect",function(e,t){var n,a,r,o,i,s;n=t[0],a=t[1],r=t[2],o=t[3],i=n+r,s=a+o,e.screenObj.line(n,a,i,a),e.screenObj.line(i,a,i,s),e.screenObj.line(i,s,n,s),e.screenObj.line(n,s,n,a)},function(e,t){var n,a,r,o;if(n=t[0],a=t[1],r=t[2],o=t[3],isNaN(n)||isNaN(a)||isNaN(r)||isNaN(o))return void console.error("rect: parameters x, y, width, height must be numbers.");e.dirty&&e.screenObj.render();e.context.beginPath(),e.context.strokeStyle=e.pal[e.fColor].s,e.context.rect(n,a,r,o),e.context.stroke()}),qbs._.addCommand("setPalColor",function(e,t){var n,a,r;if(n=t[0],a=t[1],!Number.isInteger(n))return void console.error("setPalColor: parameter i must be an integer value.");if(null===(r=qbs.util.convertToColor(a)))return void console.error("setPalColor: parameter c is not a valid color format.");e.pal[n]=r},!1,!0),qbs._.addCommand("color",function(e,t){var n,a;if(n=t[0],Number.isInteger(n))e.fColor=n;else{if(null===(a=qbs.util.convertToColor(n)))return void console.error("color: parameter c is not a valid color format.");e.fColor=e.screenObj.findColor(a)}e.context.fillStyle=e.pal[e.fColor].s,e.context.strokeStyle=e.pal[e.fColor].s},!1,!0),qbs._.addCommand("point",function(e,t){var n,a,r,o,i;return n=t[0],a=t[1],Number.isInteger(n)&&Number.isInteger(a)?(x.commands.getImageData(e),i=e.imageData.data,r=4*(e.width*a+n),o=qbs.util.convertToColor({r:i[r],g:i[1+r],b:i[2+r],a:i[3+r]}),e.screenObj.findColor(o)):void console.error("point: Argument's x and y must be integers.")},!1,!0),qbs._.addCommand("cls",function(e){e.context.clearRect(0,0,e.width,e.height),e.imageData=null,e.printCursor.x=0,e.printCursor.y=0,e.x=0,e.y=0,e.dirty=!1},!1,!0),qbs._.addCommand("render",function(e){e.imageData&&e.dirty&&e.context.putImageData(e.imageData,0,0);e.dirty=!1},!1,!0)}(),function(){var d;function c(e,t,n,a,r,o){var i;!function(e,t,n,a,r){var o;if(t<0||t>=e.width||n<0||n>=e.height)return;return o=d.commands.getPixel(e,t,n),!qbs.util.compareColors(o,a)&&qbs.util.compareColors(o,r)}(e,t,n,r,o)||(d.commands.setPixel(e,t,n,r),i={x:t,y:n},a.push(i))}d=qbs._.data,qbs._.addCommand("paint",function(e,t){var n,a,r,o,i,s;n=t[0],a=t[1],r=t[2],o=[{x:n,y:a}],d.commands.getImageData(e),isNaN(r)?(!r||isNaN(r.r)||isNaN(r.g)||isNaN(r.b))&&(r=e.pal[e.fColor]):r=e.pal[r];s=d.commands.getPixel(e,n,a);for(;0<o.length;)i=o.pop(),d.commands.setPixel(e,i.x,i.y,r),c(e,i.x+1,i.y,o,r,s),c(e,i.x-1,i.y,o,r,s),c(e,i.x,i.y+1,o,r,s),c(e,i.x,i.y-1,o,r,s);e.dirty=!0},!1,!0)}(),function(){var c,r,o;function l(e,t,n,a,r,o,i){var s;r=r||0,r=qbs.util.degreesToRadian(r),o=o||0,i=i||0,o=Math.round(t.width*o),i=Math.round(t.height*i),s=e.context,e.dirty&&e.screenObj.render(),s.translate(n,a),s.rotate(r),s.drawImage(t,-o,-i),s.rotate(-r),s.translate(-n,-a)}c=qbs._.data,r=qbs._.wait,o=qbs._.resume,qbs._.addCommand("loadImage",function(e){var t,n,a;t=e[0],"string"!=typeof(n=e[1])&&(n=""+c.imageCount,c.imageCount+=1);return(a=new Image).src=t,r(),a.onload=function(){c.images[n]=a,o()},n},!1,!1),qbs._.addCommand("drawImage",function(e,t){var n,a,r,o,i,s,d;if(n=t[0],a=t[1],r=t[2],o=t[3],i=t[4],s=t[5],"string"!=typeof n||!c.images[n])return void console.error("drawImage: invalid image name");d=c.images[n],l(e,d,a,r,o,i,s)},!1,!0),qbs._.addCommand("drawScreen",function(e,t){var n,a,r,o,i,s;if(t[0],a=t[0],r=t[0],o=t[0],i=t[0],s=t[0],!(n=t[0])||!n.canvas)return void console.error("drawScreen: invalid screenTarget");canvas=n.canvas,l(e,canvas,a,r,o,i,s)},!1,!0)}(),function(){"use strict";var l,n,F;function u(e,t,n){var a,r,o,i,s,d,c;if((a=(c=e.printCursor).calcWidth(e,t))+c.x>e.width&&!n&&1<t.length)return r=(a-(a+c.x-e.width))/a,o=Math.floor(t.length*r),s=t.substring(0,o),d=t.substring(o,t.length),c.breakWord&&-1<(i=s.lastIndexOf(" "))&&(d=s.substring(i).trim()+d,s=s.substring(0,i)),u(e,s,n),void u(e,d,n);c.y+c.charHeight>e.height&&(e.screenObj.render(),e.bufferContext.clearRect(0,0,e.width,e.height),e.bufferContext.drawImage(e.canvas,0,0),e.context.clearRect(0,0,e.width,e.height),e.context.drawImage(e.bufferCanvas,0,-c.charHeight),e.dirty=!1,l.commands.getImageData(e),c.y-=c.charHeight),c.printFunction(e,t,c.x,c.y),n?(c.x+=c.charWidth*t.length,c.x>l.screenData.width-c.charWidth&&(c.x=0,c.y+=c.charHeight)):(c.y+=c.charHeight,c.x=0)}function o(e,t){return e.printCursor.charWidth*t.length}function i(e,t){return e.context.measureText(t).width}function s(e,t,n,a){var r,o,i;for(o=e.printCursor,i=e.pal,e.pal=[i[0],i[e.fColor]],r=0;r<t.length;r++)e.screenObj.put(o.font[t.charCodeAt(r)],n+o.charWidth*r,a);e.pal=i}function d(e,t,n,a){e.context.fillText(t,n,a)}l=qbs._.data,n=qbs._.wait,F=qbs._.resume,qbs._.addCommand("print",function(e,t){var n,a,r,o;n=t[0],a=t[1],void 0===n?n="":"string"!=typeof n&&(n=""+n);for(n=n.replace(/\t/g,"    "),r=n.split(/\n/),o=0;o<r.length;o++)u(e,r[o],a)},!1,!0),qbs._.addCommand("setWordBreak",function(e,t){t[0]?e.printCursor.breakWord=!0:e.printCursor.breakWord=!1},!1,!0),qbs._.addCommand("locate",function(e,t){var n,a,r,o;n=t[0],a=t[1],null!==n&&((r=Math.floor(n*e.printCursor.charWidth))>e.width&&(r=e.width-e.printCursor.charWidth),e.printCursor.x=r);null!==a&&((o=Math.floor(a*e.printCursor.charHeight))>e.height&&(o=e.height-e.printCursor.charHeight),e.printCursor.y=o)},!1,!0),qbs._.addCommand("locatePx",function(e,t,n,a){n=t[0],a=t[1],isNaN(n)||(e.printCursor.x=parseInt(n));isNaN(a)||(e.printCursor.y=parseInt(a))},!1,!0),qbs._.addCommand("pos",function(e){return{col:Math.floor(e.printCursor.x/e.printCursor.charWidth),row:Math.floor(e.printCursor.y/e.printCursor.charHeight)}},!1,!0),qbs._.addCommand("posPx",function(e){return{x:e.printCursor.x,y:e.printCursor.y}},!1,!0),qbs._.addCommand("loadFont",function(e){var t,m,g,A,b;return t=e[0],m=e[1],g=e[2],(A=new Image).src=t,b={id:l.nextFontId,width:m,height:g,data:[]},l.fonts[b.id]=b,l.nextFontId+=1,n(),A.onload=function(){var e,t,n,a,r,o,i,s,d,c,l,u,h,f;for(t=(e=document.createElement("canvas")).getContext("2d"),e.width=A.width,e.height=A.height,t.drawImage(A,0,0),n=t.getImageData(0,0,A.width,A.height),d=s=0,c=A.width,a=0;a<255;a++){for(b.data.push([]),o=d;o<d+g;o++)for(b.data[a].push([]),r=s;r<s+m;r++)i=o*(4*c)+4*r,l=n.data[i],u=n.data[1+i],h=n.data[2+i],f=n.data[3+i],(1<l||1<u||1<h)&&1<f?b.data[a][o-d].push(1):b.data[a][o-d].push(0);c<=(s+=m)&&(s=0,d+=g)}F()},b.id},!1,!1),qbs._.addCommand("setFont",function(e,t){var n,a,r;n=t[0],l.fonts[n]?(a=l.fonts[n],e.printCursor.font=a.data,e.printCursor.charWidth=a.width,e.printCursor.charHeight=a.height,e.printCursor.cols=Math.floor(e.width/a.width),e.printCursor.rows=Math.floor(e.height/a.height),e.printCursor.printFunction=s,e.printCursor.calcWidth=o):"string"==typeof n&&(e.context.font=n,e.context.textBaseline="top",e.printCursor.font=e.context.font,r=function(e){var t,n,a,r,o,i,s,d,c,l,u,h;t=e.font,a=t.indexOf("px"),t=t.substring(0,a),-1===(n=t.lastIndexOf(" "))&&(n=0);for(r=parseInt(t.substring(n,a)),r=Math.round(1.5*r),(o=document.createElement("canvas")).width=r,o.height=r,(i=o.getContext("2d")).font=e.font,i.textBaseline="top",i.fillStyle="#FF0000",l={width:0,height:0},s="HMIyjg_",d=0;d<s.length;d++)i.fillText(s[d],0,0);for(s=i.getImageData(0,0,r,r),d=0;d<s.data.length;d+=4)255===s.data[d]&&(c=d/4,h=Math.floor(c/r),u=c-h*r,h>l.height&&(l.height=h),u>l.width&&(l.width=u));return l}(e.context),e.printCursor.charWidth=r.width,e.printCursor.charHeight=r.height,e.printCursor.cols=Math.floor(e.width/r.width),e.printCursor.rows=Math.floor(e.height/r.height),e.printCursor.printFunction=d,e.printCursor.calcWidth=i)},!1,!0),l.defaultFont.printFunction=s,l.defaultFont.calcWidth=o}(),function(){"use strict";function p(e,t){return e=parseInt(e),isNaN(e)&&(e=t),e}qbs._.data,qbs._.addCommand("draw",function(e,t){var n,a,r,o,i,s,d,c,l,u,h,f,m,g,A,b,F;if(n=(n=t[0]).toUpperCase(),a=n.match(/(#[A-Z0-9]+)/g))for(r=0;r<a.length;r++)n=n.replace("C"+a[r],"O"+r);for(n=(n=n.replace(/(TA)/gi,"T")).split(/\s+/).join(""),o=/(?=C|C#|R|B|F|G|L|A|T|D|G|H|U|E|N|M|P|S)/,i=n.split(o),s=!1,d={x:e.x,y:e.y,angle:0},l=c=!1,r=0;r<i.length;r++){switch((u=i[r].split(/(\d+)/))[0]){case"C":h=Number(u[1]),e.screenObj.color(h),c=!0;break;case"O":h=a[u[1]],e.screenObj.color(h),c=!0;break;case"D":f=p(u[1],1),m=qbs.util.degreesToRadian(90)+e.angle,e.x+=Math.round(Math.cos(m)*f),e.y+=Math.round(Math.sin(m)*f);break;case"E":f=p(u[1],1),f=Math.sqrt(f*f+f*f),m=qbs.util.degreesToRadian(315)+e.angle,e.x+=Math.round(Math.cos(m)*f),e.y+=Math.round(Math.sin(m)*f);break;case"F":f=p(u[1],1),f=Math.sqrt(f*f+f*f),m=qbs.util.degreesToRadian(45)+e.angle,e.x+=Math.round(Math.cos(m)*f),e.y+=Math.round(Math.sin(m)*f);break;case"G":f=p(u[1],1),f=Math.sqrt(f*f+f*f),m=qbs.util.degreesToRadian(135)+e.angle,e.x+=Math.round(Math.cos(m)*f),e.y+=Math.round(Math.sin(m)*f);break;case"H":f=p(u[1],1),f=Math.sqrt(f*f+f*f),m=qbs.util.degreesToRadian(225)+e.angle,e.x+=Math.round(Math.cos(m)*f),e.y+=Math.round(Math.sin(m)*f);break;case"L":f=p(u[1],1),m=qbs.util.degreesToRadian(180)+e.angle,e.x+=Math.round(Math.cos(m)*f),e.y+=Math.round(Math.sin(m)*f);break;case"R":f=p(u[1],1),m=qbs.util.degreesToRadian(0)+e.angle,e.x+=Math.round(Math.cos(m)*f),e.y+=Math.round(Math.sin(m)*f);break;case"U":f=p(u[1],1),m=qbs.util.degreesToRadian(270)+e.angle,e.x+=Math.round(Math.cos(m)*f),e.y+=Math.round(Math.sin(m)*f);break;case"P":case"S":g=p(u[1],0),e.screenObj.paint(e.x,e.y,g,"S"===u[0]),c=!0;break;case"A":A=p(u[1],1),b=p(u[3],1),F=p(u[5],1),l=!0;break;case"T":e.angle=qbs.util.degreesToRadian(p(u[1],1)),c=!0;break;case"M":e.x=p(u[1],1),e.y=p(u[3],1),c=!0;break;default:c=!0}c||(l?e.screenObj.arc(e.x,e.y,A,b,F):e.screenObj.line(d.x,d.y,e.x,e.y)),l=c=!1,s&&(s=!1,e.x=d.x,e.y=d.y,e.angle=d.angle),"N"===u[0]?s=!0:d={x:e.x,y:e.y,angle:e.angle},"B"===u[0]&&(c=!0)}},!1,!0)}(),function(){var o,i;o={},i=0,qbs._.addCommand("loadSound",function(e){var t,n,a,r;if(t=e[0],n=e[1],!t)return void console.error("loadSound: No sound source provided.");void 0!==n&&!isNaN(n)||(n=1);for(r={pool:[],index:0},a=0;a<n;a++)r.pool.push(new Audio(t));return o[i]=r,(i+=1)-1},!1,!1),qbs._.addCommand("deleteSound",function(e){var t,n;if(t=e[0],o[t]){for(n=0;n<o[t].pool.length;n++)o[t].pool[n].pause();delete o[t]}else console.error("deleteSound: "+t+" not found.")},!1,!1),qbs._.addCommand("play",function(e){var t,n;t=e[0],o[t]?((n=o[t]).pool[n.index].play(),n.index+=1,n.index>=n.pool.length&&(n.index=0)):console.error("play: "+t+" not found.")},!1,!1)}(),function(){"use strict";qbs.loadFont("data:image/webp;base64,UklGRiIFAABXRUJQVlA4WAoAAAAQAAAAfgEAHwAAQUxQSLcEAAABDzD/ERGC+vX/att2f79rX9dOj+feaysr13Kr0yjDcuWi5FwtcdHKyszMDMkid2VwoMzM7asx2ykzMyQ5TpeXhXAGPptciui/Ardtokzi3gYUPqGXJGMFur6I2q+5EBO7WAlGYNheEctkadwWHEXS+XMZITPYeEmuylqaAl1pvtP/vflPcaNdcihEZxn6fvHpAWLaywPouVTtwTONESyz8OOvHEUtvrm5z3ltsbUyOdGc4Q7afGkZ+v4MxWdDPh5AHoiUboTXGMlfIctSVkHJgpG3f3YqVwtSxU2Y9C3PzH8uARIdGkKvqnUrnxhpcaGUhKyAwBN2d7hauXDk7eZ25ao1VdxQnHl6hc1XRQFl5ORAXEFcI2U3l0AxmHQid3SxZy2+udl8raeVuQJxUe/SFLKrjAKI2RvAtJfHss1F1TQugTJyOhXkKpfh1jLpae53qFi8XUxfc0PiF+PQUgAs46uV3h1RWyiF2HiilyA9Cl1fNLxMWoAMuvlveJuZ3rQFm6HpyxbXKlvmnuqZynmzS6XhnKqVNY4ogFtAvTCY0Qe13uQ64jSPcpv68wQ/DYr57dR0Qe3Lqd04C9oLmAfCIxPY8Jsg+AYZKljyeEyDoq+vmi5YGKeuXoJNFK1sJuU0G7A66D99U8r+bmFv47wUI7FvMc6LYnewnm+j2qtYYlxfrGBMERxg/eawD1Eya6umj7L4uL7dltqhFnuSZMnjx9Bc0cepvjEy4/rW9mAbAn285UESc6L6LFFNbyr5uL6MEYyYIvjzhDSaK6Zzqu8gYwf61KYWgkAW1IH8AidNZolqqJmcfqjP6iSDXmUtrs2fkTv68nDOu6K1N5Qi5pY2LkSgF0jfz5bXu/y9Er2mWZ3WqiItG3kaMt6isf0NO4hXvxMUGpGsVsMvbAZD97CUq0CvMUKI0nphqss2maM9ylrYv4ZNz+phSHMC7PuZYgWBijgVNBMDAApAZQJ7RLqXUETy9mkg8z03CQCfrJET/c+cbwAV1ls+UgpF6y3fCwUbjJPqzoX5JWQ5IpAjYKjXYI+472d6WkHn1My6c0FzemxLsMZRTL2mUm/IpWqcxerx2orYteL6+ZVTtwcC/rkurCDMFKJCr1feUBQXVFL8Ug1tZhpnkH/Y5aCqZgEFjm6LK87NzDynDi2Y36iHU/DnSQohmGb68gx2ORdSD02gqlbRWYMzv702rGFVAyA5JQt2lYwMRaWQS9290RuKSqSI1PHU3RWVNAwOGJMb5/YGHMbVtniz+A4g0KL+67uoIgD/D8djfA1EQAlwMuJkykEAQwCjv8PBGAC4AdynZsB5CRRSLwJ2KFyB4N3RS6spv3WpkOAUWJegTYhscQLvN8UR+bJNVqwsK3a7TqBTnUDXOMZxfZckje1Vr9XJuixstQhojBP4hKLXCowAA3DG6GvFHVegh8dzw71oYo1R4Jdmu5lfVQh/x0pj1251+qegLCsWi5V2uhaLRWKxoNnPBXxFTTVx2dz6DBSC0RY4xV+IAshGARZjDSgIFA3Lf8eC5juugObhQ8KyvCTWBYBFxgB88t83eQ9GkcBunsetF+thFq7MZBEAEP8T9j2QAYAYgeU4+Zei+OcBAFZQOCBEAAAAsAUAnQEqfwEgAD5tNpZJpCMhoSCoKIANiWkKFqACcMq3s2bNmzZs2bNmzZs2bNmzZs2PD7tAAP734AAAANH+1YAAAAA=",6,8)}(),function(){"use strict";qbs.loadFont("data:image/webp;base64,UklGRpICAABXRUJQVlA4WAoAAAAQAAAAywAAOwAAQUxQSAoCAAABDzD/ERFCsrZta+K8kU5+uHJByDU+aEjdQt37MxpmhZxAvSt37w+DjEvd3f0A3L1su3RZ2co9VPbdRPR/AoCHcg6TAVzKCV8SXskgEqw80z96r3DDAdBG6XVsk225O6UUAD5czHMBAJe+78lHS3hj0vptf/BGsNBve/LRzV9XNX//XoBdm+99KQy3NEqvueJPw8mWbRYgGGjPc5MBTMkJXxIj3n93pxQLX3ydK076AeBeyN20YmfekBnEmyGHtPGMaadU5YE+QbXWxg+KyNUfyIzIeuB5QKRUlpbjgEb6rvDemA8/lP2RTrAuVyWlMg82VdOf1ajBsEw/EP/y9cBzU2Z+laH50oJJwgr3VUNOQbwScUgoTPGnHAp2vnyn5jak+y10P51yQW/d/yokZCFTKFjvJyofS89pPai7mvXjxb1cRbVcc818Rdj/8raXD6XftJ57ZjTrx8kVRRaBa7at4np/t6rF0sfb0n3CzbULijWlXARrsG8UOvtOUW/2nOu3SBy4gDRFtSchpQi4u6Bcwj/9AiuhQPKPUoFibTYlAMS7AZKMOq5OqcyZzIxMSIbtfXFOcjvRWcsj82F9bWzj5cj+VrObu8T6zdZloxzpBo00HV1/bYqYMzd2zSfJMGueeU02KiDWavZMs1pD07mzpC48IRVgzu/nnKsngwkQAVAK6xgAeMTh/2pWUDggYgAAALAGAJ0BKswAPAA+bTKVRyQjIiEpyACADYlpbt0AIYO1AbHZdbiCWCKSvRbVK3CMLio59XFGjGgWcOhfTnpAAP765Ie0Gb5v//9t5L/hVVU536mBYT///bKADnYazgAAAAAA",6,6)}(),function(){"use strict";qbs.loadFont("data:image/webp;base64,UklGRhwFAABXRUJQVlA4WAoAAAAQAAAA/gEAHwAAQUxQSJoEAAABDzD/ERHCsvr/jSRJv0agrMOfHD/zH0r8Y/zJafiDJiEDaczunvbqbYFA7YKsXm+qkOjHqAdY+w4+oU/9AAXrvRvvTVFaE22fIKL/CtO2YWyark9Qa9hxO+jor48np0dnnudyeghmxlwKgeAsWwDAXiSRVXJJBGBYweXeXNxBH7d/KFevfH5xaSy/voJxZCY8xh0SQszBEhUC4PNSdTRWVYkIpPj+r1t0jv9ejl4vJ6fjcFjLrx1qZW9NGTskNKPOWB4JAH+dvA+D8apENrHH5d5ai+P2xZ/+rNCVv7fG5XcBzNya6bWCEIQ3sNwTEuiAnFM/sETAwDN+uo2xtXH74k91pCt/Hw65HIdauXprSh9BaJ7WuCbsPlnfvJJ6wIIJR393Lkb+ezlSXv5tXFyqOHZ15JGpPdYZQBiKgqgQgcxZUvWqpExEiYDLfWfHOfRxq/WOs58/8/xYjrUyM+YSAuUN2AIEOhNTku+IkCyJGJZQKxAjOrrwwhwBDAg6bkqLG2gBIFIah9ZGle+cvSNnlyRJUs1ZmxjZAWGBFRwW5BfLa9iZs+LFBllKCZ/4RFHyxX77bCha9KkZ2Vp2IFh4BFjA0jXQHGJa7xxoMeX++42SD7bt56JlQao56LOWOIDFihe7CUtfSAdZb9YxquasiZjgDjSaImISebHtIEeNS1K96IQtcwZ81Kh36IZ8oKZadGNI9WLQBxdYIRykWXxdScMnLn4923VYkWpz9EnrGUAsRpPVQl7mFCHV5pSICdloKeETtihpKTkHK0VJ5duBit1jAFpUjY2FNNBF1Ritf1KlhfjEDNE0Du2OQxU523J2d6zOiiTKWZo8LwA2a9nIHf6s6FnJKtbfMfCGQvZpxQs03KodcwdAAAB3fAdzB8wUrKouCFUXGheZVjgUQICtstPh0soBSKMjYLtl4GM/+TUzT8A0YZoYqtgChC2ADEdAUF3oQhkcVI+B1WpACABy5qt616devQEGMoqIjCJLtwxIpzpfRq1PiLIsAWgIBKiilFkME4b9qe1PA1R1z3tviioxZbG+iYiqFjV3pK+MnkSH5w6dTeng16xX7/rUt2fBe9Pe3sQQTYcxRlNTIqamcqr/c46lzJFUNQHG+Ksv8zyGYb8N+9N+a8PAaoqqijWGmHKy11QctZ5Nb7GSqq5rVOPLu9c7TzxNEwD2VU5qrX4UkVGyptOvi0itnoUT5d0qUlUBAfQtBv53vgGCmQ43dAAY9OclrufrvwDw//P1YQaDeZowS56AiYGJGR13vN4BIAFIzq2w5wRk+RITHPC6LIHbgKSmKBsKgeCtJiI6ZtoEwAe+lvenl09e6y/31/rUMb3/PqZ+DRvVYGtZS85cq1EktseM9QwarxNEAAGYBV8v1oMJtFtYW46//vUwC+YEx/DBjni/9/d7f//lk5f7ay/313rv/eT99096H97v/Y7XcY+aYHcLaw76618bBVlmxgbMzwUZ8b/T/2P2mTABPLtPDJ6xHkzQ3cgSgtZqNQHgXVoDCMDtYGNMSEvL5L4tsE6RUuJdAuaX2wAMABgkADCYyUsAwAoAAFZQOCBcAAAAsAcAnQEq/wEgAD5tNplJpCMioSGIAIANiWlu4XdQALf0RTNRXhQoUKE0iVVKklYcOHDhw4cOHDhw4cOHDhw4cOHDXJOUAAD+/ofMO85E5v6k12bAAAMT+8CAAAA=",8,8)}(),function(){"use strict";qbs.loadFont("data:image/webp;base64,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",8,14)}(),function(){"use strict";qbs.loadFont("data:image/webp;base64,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",8,16)}(),function(){var e,t,n;for((t=qbs._.data).defaultPalette[0]={r:0,g:0,b:0,a:0,s:"#00000000"},e=1;e<t.defaultPalette.length;e++)t.defaultPalette[e]=qbs.util.hexToRgb(t.defaultPalette[e]);t.fonts[0]&&(n=t.fonts[0],t.defaultFont.width=n.width,t.defaultFont.height=n.height,t.defaultFont.data=n.data),void 0===window.$&&(window.$=window.qbs),delete qbs._}();
//# sourceMappingURL=qbs.min.js.map