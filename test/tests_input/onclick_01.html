<!DOCTYPE html>
<html>
	<head>
		<title>Onclick 01</title>
		<script type="text/toml">
			[[TOML_START]]
			test = "screenshot.js"
			file = "onclick_01"
			name = "onclick 01"
			width = 300
			height = 200
			delay = 0
			[[TOML_END]]
		</script>
		<script src="../../build/qbs.min.js"></script>
		<style>
			html, body {
				background-color: grey;
			}
		</style>
	</head>
<body>
<script>

var hitbox = {
	"x": 50,
	"y": 50,
	"width": 50,
	"height": 50
};

var hitbox2 = {
	"x": 110,
	"y": 50,
	"width": 50,
	"height": 50
};

$.screen( "300x200" );

var hitbox3 = {
	"x": 35,
	"y": 150,
	"width": 20,
	"height": 20
};

drawBox( hitbox );
drawBox( hitbox2 );
drawBox( hitbox3 );

$.onclick( clickOne, false, hitbox );
$.onclick( clickTwo, false, hitbox2 );
$.onclick( clickThree, true, hitbox3 );

function clickOne() {
	$.setColor( 2 );
	drawBox( hitbox );

	$.setColor( 7 );
	drawBox( hitbox2 );
}

function clickTwo() {
	$.setColor( 7 );
	drawBox( hitbox );

	$.setColor( 1 );
	drawBox( hitbox2 );
}

function clickThree() {
	$.offclick( clickOne, false, hitbox );
	$.offclick( clickTwo, false, hitbox2 );
	$.setColor( 4 );
	drawBox( hitbox3 );
	$.print( "Click boxes are turned off!" );
}

function drawBox( box ) {
	$.rect( box.x, box.y, box.width, box.height );
}

</script>
</body>
</html>
