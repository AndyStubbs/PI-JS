<!DOCTYPE html>
<html>
<head>
	<!--meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/-->
	<title>Test App</title>
	<script src="qbs.js"></script>
	<script src="qbs-util.js"></script>
	<script src="qbs-keyboard.js"></script>
	<script src="qbs-screen.js"></script>
	<script src="qbs-screen-mouse.js"></script>
	<script src="qbs-screen-touch.js"></script>
	<script src="qbs-screen-commands.js"></script>
	<script src="qbs-screen-helper.js"></script>
	<script src="qbs-screen-graphics.js"></script>
	<script src="qbs-screen-paint.js"></script>
	<script src="qbs-screen-images.js"></script>
	<script src="qbs-screen-draw.js"></script>
	<script src="qbs-screen-print.js"></script>
	<script src="qbs-sound.js"></script>
	<script src="fonts/font-6x8.js"></script>
	<script src="fonts/font-6x6.js"></script>
	<script src="fonts/font-8x8.js"></script>
	<script src="fonts/font-8x14.js"></script>
	<script src="fonts/font-8x16.js"></script>
	<script src="qbs-init.js"></script>
	<style>
		html, body {
			background-color: grey;
		}
	</style>
</head>
<body>
<script>
$.ready( function () {
	var last = {x: 0, y: 0};
	var isDrawing = false;
	$.screen( "320x200" );
	$.startTouch();
	$.setPinchZoom( false );

	var corner = $.get(0, 0, 8, 14);
	$.ontouch( "start", function ( touches ) {
		var i, touch;
		for( i = 0; i < touches.length; i++ ) {
			touch = touches[ i ];
			if( touch === undefined ) {
				debugger;
			}
			$.pset( touch.x, touch.y );
		}
		$.render();
	} );
	$.ontouch( "move", function ( touches ) {
		var i, touch;
		for( i = 0; i < touches.length; i++ ) {
			touch = touches[ i ];
			if( touch === undefined ) {
				debugger;
			}
			if( touches[ touch.id ] ) {
				$.line( touch.x, touch.y, touches[ touch.id ].x, touches[ touch.id ].y );
			}
		}
		$.render();
	});
	$.ontouch( "end", function ( touches ) {
		var i, touch;
		for( i = 0; i < touches.length; i++ ) {
			touch = touches[ i ];
			if( touch === undefined ) {
				debugger;
			}
			if( touches[ touch.id ] ) {
				$.line( touch.x, touch.y, touches[ touch.id ].x, touches[ touch.id ].y );
			}
		}
		$.render();
	} );
} );
</script>
</body>
</html>