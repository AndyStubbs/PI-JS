<!DOCTYPE html>
<html>
<head>
	<!--meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/-->
	<title>Test App</title>
	<script src="qbs.js"></script>
	<script src="qbs-util.js"></script>
	<script src="qbs-keyboard.js"></script>
	<script src="qbs-screen.js"></script>
	<script src="qbs-screen-mouse.js"></script>
	<script src="qbs-screen-touch.js"></script>
	<script src="qbs-screen-commands.js"></script>
	<script src="qbs-screen-helper.js"></script>
	<script src="qbs-screen-graphics.js"></script>
	<script src="qbs-screen-paint.js"></script>
	<script src="qbs-screen-images.js"></script>
	<script src="qbs-screen-draw.js"></script>
	<script src="qbs-screen-print.js"></script>
	<script src="qbs-sound.js"></script>
	<script src="fonts/font-6x8.js"></script>
	<script src="fonts/font-6x6.js"></script>
	<script src="fonts/font-8x8.js"></script>
	<script src="fonts/font-8x14.js"></script>
	<script src="fonts/font-8x16.js"></script>
	<script src="qbs-init.js"></script>
	<style>
		html, body {
			background-color: grey;
		}
	</style>
</head>
<body>
<script>
$.ready( function () {
	var isDrawing = false;
	var hitbox = {
		x: 25, y: 25, width: 100, height: 100
	};
	$.screen( "320x200" );
	$.startMouse();
	$.setPinchZoom( false );
	$.rect( hitbox.x, hitbox.y, hitbox.width, hitbox.height );
	$.render();
	$.color( 2 );
	
	$.onmouse( "down", function ( data ) {
		$.pset( data.x, data.y );
		$.render();
		isDrawing = true;
	}, false, hitbox );
	$.onmouse( "move", function ( data ) {
		if( isDrawing ) {
			data.lastX = qbs.util.clamp( data.lastX, hitbox.x, hitbox.x + hitbox.width );
			data.lastY = qbs.util.clamp( data.lastY, hitbox.y, hitbox.y + hitbox.height );
			$.line( data.x, data.y, data.lastX, data.lastY );
			$.render();
		}
	}, false, hitbox );
	$.onmouse( "up", function ( data ) {
		isDrawing = false;
	}, false );
} );
</script>
</body>
</html>